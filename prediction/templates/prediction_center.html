{% extends 'base.html' %}
{% load static %}


{% block title %}Prediction Center{% endblock %}

{% block content %}

<h2>Test Polling</h2>

<h2>Prediction Center</h2>

{% for prediction in upcoming_predictions %}
  <div class="prediction-item">
    <p><strong>{{ prediction.match.home_team }}</strong> vs <strong>{{ prediction.match.away_team }}</strong></p>
    <button class="vote-btn" 
        data-prediction-id="{{ prediction.id }}" 
        data-match-title="{{ prediction.match.home_team }} vs {{ prediction.match.away_team }}"
        data-home="{{ prediction.match.home_team }}"
        data-away="{{ prediction.match.away_team }}">
    Vote / Polling
    </button>
  </div>
  <!-- ðŸŸ© Tambahin bagian hasil vote di sini -->
    <div class="vote-results" id="results-{{ prediction.id }}">
        <p>{{ prediction.match.home_team }}: {{ prediction.votes_home_team }} votes ({{ prediction.home_percentage|floatformat:1 }}%)</p>
        <p>{{ prediction.match.away_team }}: {{ prediction.votes_away_team }} votes ({{ prediction.away_percentage|floatformat:1 }}%)</p>
    </div>
  

{% empty %}
  <p>No upcoming predictions.</p>
{% endfor %}


{% include 'modal_poll.html' %}

{% endblock %}